{
  "Id": 14,
  "Name": "ortome - Als Dan Bijwerken",
  "Description": "Op basis van externe factoren werken we de Top10 bij voordsat de shoppingcart getoond gaat worden",
  "IsDebug": false,
  "ActionList": {
    "Id": 62,
    "EventName": "Event",
    "Actions": [
      {
        "Id": 107,
        "ActionType": "LoadEntitiesFromSql",
        "OrderIndex": 0,
        "ActionParameters": [
          {
            "Id": 707,
            "Name": "ConnectionString",
            "IsExpression": false,
            "ActionId": 107,
            "OrderIndex": 0,
            "SubParameters": []
          },
          {
            "Id": 708,
            "Name": "SqlQuery",
            "Value": "SELECT * FROM app.ortomo_ShoppingCartDetail\nWHERE Shoppingcart=@ShoppingCart\nORDER BY Toppositie asc",
            "IsExpression": false,
            "ActionId": 107,
            "OrderIndex": 0,
            "SubParameters": []
          },
          {
            "Id": 709,
            "Name": "BindTokens",
            "Value": [
              {
                "value": "[ShoppingCart]",
                "$$hashKey": "object:43",
                "name": "ShoppingCart"
              }
            ],
            "IsExpression": false,
            "ActionId": 107,
            "OrderIndex": 0,
            "SubParameters": []
          },
          {
            "Id": 710,
            "Name": "EntityName",
            "Value": "ShoppingcartDetails",
            "IsExpression": false,
            "ActionId": 107,
            "OrderIndex": 0,
            "SubParameters": []
          },
          {
            "Id": 711,
            "Name": "EntityProps",
            "IsExpression": false,
            "ActionId": 107,
            "OrderIndex": 0,
            "SubParameters": []
          },
          {
            "Id": 712,
            "Name": "OnError",
            "Value": {
              "Id": 63,
              "EventName": "OnError",
              "Actions": []
            },
            "IsExpression": false,
            "ActionId": 107,
            "OrderIndex": 0,
            "SubParameters": []
          }
        ],
        "DiagramUID": "Activity_0eze88s"
      },
      {
        "Id": 112,
        "ActionType": "RunSql",
        "OrderIndex": 1,
        "ActionParameters": [
          {
            "Id": 749,
            "Name": "ConnectionString",
            "IsExpression": false,
            "ActionId": 112,
            "OrderIndex": 0,
            "SubParameters": []
          },
          {
            "Id": 750,
            "Name": "QueryTimeout",
            "IsExpression": false,
            "ActionId": 112,
            "OrderIndex": 0,
            "SubParameters": []
          },
          {
            "Id": 751,
            "Name": "SqlQuery",
            "Value": "SELECT CAST(Q1.GekozenAntwoordTekst as date) as Geboortedatum,\nCONVERT(int,ROUND(DATEDIFF(hour,CAST(Q1.GekozenAntwoordTekst as date),GETDATE())/8766.0,0)) AS Leeftijd\nFROM (\nSELECT        app.ortomo_MijnTest.ShoppingCart, app.ortomo_MijnAntwoord.MijnTest, app.ortomo_MijnAntwoord.Vragenlijst, app.ortomo_MijnAntwoord.Vraag, app.ortomo_MijnAntwoord.VraagTekst, \n                         app.ortomo_MijnAntwoord.GekozenAntwoordTekst, app.ortomo_MijnAntwoord.GekozenAntwoordId\nFROM            app.ortomo_MijnTest INNER JOIN\n                         app.ortomo_MijnAntwoord ON app.ortomo_MijnTest.Id = app.ortomo_MijnAntwoord.MijnTest\nWHERE        app.ortomo_MijnTest.Id = @MijnTest and Vraag = 1)Q1",
            "IsExpression": false,
            "ActionId": 112,
            "OrderIndex": 0,
            "SubParameters": []
          },
          {
            "Id": 752,
            "Name": "BindTokens",
            "Value": [
              {
                "value": "[MijnTest]",
                "$$hashKey": "object:64",
                "name": "MijnTest"
              }
            ],
            "IsExpression": false,
            "ActionId": 112,
            "OrderIndex": 0,
            "SubParameters": []
          },
          {
            "Id": 753,
            "Name": "OutputTokenName",
            "IsExpression": false,
            "ActionId": 112,
            "OrderIndex": 0,
            "SubParameters": []
          },
          {
            "Id": 754,
            "Name": "ExtractColumns",
            "Value": [
              {
                "value": "Leeftijd",
                "$$hashKey": "object:52",
                "name": "Leeftijd"
              },
              {
                "value": "Geboortedatum",
                "$$hashKey": "object:58",
                "name": "Geboortedatum"
              }
            ],
            "IsExpression": false,
            "ActionId": 112,
            "OrderIndex": 0,
            "SubParameters": []
          },
          {
            "Id": 755,
            "Name": "OnError",
            "Value": {
              "Id": 66,
              "EventName": "OnError",
              "Actions": []
            },
            "IsExpression": false,
            "ActionId": 112,
            "OrderIndex": 0,
            "SubParameters": []
          },
          {
            "Id": 756,
            "Name": "ShowErrors",
            "IsExpression": false,
            "ActionId": 112,
            "OrderIndex": 0,
            "SubParameters": []
          }
        ],
        "DiagramUID": "Activity_0fngjkl"
      },
      {
        "Id": 113,
        "Description": "ALS leeftijd is > 50 en alcoholconsumptie (vraagID 47) heeft antwoordID 126 DAN adviseer geen Vitamine B6 5000 score erbij",
        "ActionType": "RunSql",
        "OrderIndex": 2,
        "ActionParameters": [
          {
            "Id": 757,
            "Name": "ConnectionString",
            "IsExpression": false,
            "ActionId": 113,
            "OrderIndex": 0,
            "SubParameters": []
          },
          {
            "Id": 758,
            "Name": "QueryTimeout",
            "IsExpression": false,
            "ActionId": 113,
            "OrderIndex": 0,
            "SubParameters": []
          },
          {
            "Id": 759,
            "Name": "SqlQuery",
            "Value": "SELECT COUNT(*) As Resultaat\n\nFROM (\nSELECT        app.ortomo_MijnTest.ShoppingCart, app.ortomo_MijnAntwoord.MijnTest, app.ortomo_MijnAntwoord.Vragenlijst, app.ortomo_MijnAntwoord.Vraag, app.ortomo_MijnAntwoord.VraagTekst, \n                         app.ortomo_MijnAntwoord.GekozenAntwoordTekst, app.ortomo_MijnAntwoord.GekozenAntwoordId\nFROM            app.ortomo_MijnTest INNER JOIN\n                         app.ortomo_MijnAntwoord ON app.ortomo_MijnTest.Id = app.ortomo_MijnAntwoord.MijnTest\nWHERE        app.ortomo_MijnTest.Id = @MijnTest AND GekozenAntwoordId = 126 and Vraag = 47)Q1",
            "IsExpression": false,
            "ActionId": 113,
            "OrderIndex": 0,
            "SubParameters": []
          },
          {
            "Id": 760,
            "Name": "BindTokens",
            "Value": [
              {
                "value": "[MijnTest]",
                "$$hashKey": "object:57",
                "name": "MijnTest"
              }
            ],
            "IsExpression": false,
            "ActionId": 113,
            "OrderIndex": 0,
            "SubParameters": []
          },
          {
            "Id": 761,
            "Name": "OutputTokenName",
            "IsExpression": false,
            "ActionId": 113,
            "OrderIndex": 0,
            "SubParameters": []
          },
          {
            "Id": 762,
            "Name": "ExtractColumns",
            "Value": [
              {
                "value": "Check1",
                "$$hashKey": "object:52",
                "name": "Resultaat"
              }
            ],
            "IsExpression": false,
            "ActionId": 113,
            "OrderIndex": 0,
            "SubParameters": []
          },
          {
            "Id": 763,
            "Name": "OnError",
            "Value": {
              "Id": 67,
              "EventName": "OnError",
              "Actions": []
            },
            "IsExpression": false,
            "ActionId": 113,
            "OrderIndex": 0,
            "SubParameters": []
          },
          {
            "Id": 764,
            "Name": "ShowErrors",
            "IsExpression": false,
            "ActionId": 113,
            "OrderIndex": 0,
            "SubParameters": []
          }
        ],
        "DiagramUID": "Activity_0mgb550"
      }
    ]
  },
  "CreatedBy": "Hans Lenting",
  "CreatedOn": "2021-03-03T19:59:07.0940623+01:00",
  "LastModifiedBy": "Hans Lenting",
  "LastModifiedOn": "2021-03-09T20:58:08.2642149+01:00",
  "InputFields": [
    {
      "Id": 77,
      "Name": "ShoppingCart",
      "InputType": "Integer",
      "WorkflowId": 14,
      "IsDeleted": false
    },
    {
      "Id": 78,
      "Name": "MijnTest",
      "InputType": "Integer",
      "WorkflowId": 14,
      "IsDeleted": false
    }
  ],
  "OutputFields": [
    {
      "Value": "[Leeftijd]",
      "Id": 79,
      "Name": "Leeftijd",
      "InputType": "Text",
      "WorkflowId": 14,
      "IsDeleted": false
    },
    {
      "Value": "[GeboorteDatum]",
      "Id": 80,
      "Name": "GeboorteDatum",
      "InputType": "Text",
      "WorkflowId": 14,
      "IsDeleted": false
    },
    {
      "Value": "[Check1]",
      "Id": 81,
      "Name": "Check1",
      "InputType": "Text",
      "WorkflowId": 14,
      "IsDeleted": false
    }
  ]
}